ubuntu@ubuntu-2204:~/Downloads/Projeto_final$ pytest product-service/products_tests/test_product_service.py -v -s
============================================================================== test session starts ===============================================================================
platform linux -- Python 3.10.12, pytest-8.4.1, pluggy-1.6.0 -- /usr/bin/python3
cachedir: .pytest_cache
rootdir: /home/ubuntu/Downloads/Projeto_final
collected 6 items                                                                                                                                                                

product-service/products_tests/test_product_service.py::TestProductService::test_health_check_detailed [2025-11-18 16:52:59] - Detailed Health Check | Product Service - PASS
Details: Status: healthy, DB Connection: True, DB Query: True
response:{
  "checks": {
    "database_connection": true,
    "database_query": true,
    "service_responsive": true
  },
  "service": "product-service",
  "status": "healthy",
  "timestamp": "2025-11-18T16:52:59.391825"
}
----------------------------------------

PASSED
product-service/products_tests/test_product_service.py::TestProductService::test_create_user_test [2025-11-18 16:52:59] - Registration and login of test user for product test - PASS
Details: Email:True, User test ID:81
response:{
  "email": "product_test1763484779@example.com",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo4MSwiZW1haWwiOiJwcm9kdWN0X3Rlc3QxNzYzNDg0Nzc5QGV4YW1wbGUuY29tIiwiZXhwIjoxNzYzNDg4Mzc5fQ.xP6ZBQpaWxLQmv86CCdEqNdAYWBiHb46NJIVcHQqpkw",
  "user_id": 81,
  "headers": {
    "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo4MSwiZW1haWwiOiJwcm9kdWN0X3Rlc3QxNzYzNDg0Nzc5QGV4YW1wbGUuY29tIiwiZXhwIjoxNzYzNDg4Mzc5fQ.xP6ZBQpaWxLQmv86CCdEqNdAYWBiHb46NJIVcHQqpkw"
  }
}
----------------------------------------

PASSED
product-service/products_tests/test_product_service.py::TestProductService::test_create_item [2025-11-18 16:52:59] - Create product item - PASS
Details: Status:201, Product:test_2025-11-18 16:52:59, User:product_test1763484779@example.com
response:{
  "description": "Descritivo teste 2025-11-18 16:52:59",
  "id": 30,
  "message": "Product created successfully",
  "product_name": "test_2025-11-18 16:52:59"
}
----------------------------------------

PASSED
product-service/products_tests/test_product_service.py::TestProductService::test_get_items [2025-11-18 16:52:59] - Get user item list - PASS
Details: Status: 200, Products found: 2, Target product found: True
response:{
  "products": [
    {
      "created_at": "Tue, 18 Nov 2025 16:52:59 GMT",
      "created_by": 81,
      "description": "Descritivo teste 2025-11-18 16:52:59",
      "id": 30,
      "name": "test_2025-11-18 16:52:59",
      "price": 343.99,
      "quantity": 4
    },
    {
      "created_at": "Tue, 18 Nov 2025 16:52:59 GMT",
      "created_by": 81,
      "description": "Descritivo teste 2025-11-18 16:52:59",
      "id": 31,
      "name": "test_2025-11-18 16:52:59",
      "price": 2367.84,
      "quantity": 5
    }
  ]
}
----------------------------------------

PASSED
product-service/products_tests/test_product_service.py::TestProductService::test_update_item DEBUG:Creating product with data:{'name': 'test_2025-11-18 16:52:59', 'price': 1167.35, 'description': 'Descritivo teste 2025-11-18 16:52:59', 'quantity': 6}
DEBUG: POST response status: 201
DEBUG: POST response body: {
  "description": "Descritivo teste 2025-11-18 16:52:59",
  "id": 32,
  "message": "Product created successfully",
  "product_name": "test_2025-11-18 16:52:59"
}

DEBUG: POST response JSON keys: dict_keys(['description', 'id', 'message', 'product_name'])
DEBUG: Extracted product_id: 32
DEBUG: Update payload: {'id': 32, 'name': 'updated_name_test', 'price': 199.99, 'description': 'Update_test description', 'quantity': 3}
DEBUG: PUT response status: 200
DEBUG: PUT response body: {
  "message": "Product updated successfully"
}

[2025-11-18 16:52:59] - Update user item list - PASS
Details: Product ID: 32, Update status: 200
response:{
  "message": "Product updated successfully"
}
----------------------------------------

PASSED
product-service/products_tests/test_product_service.py::TestProductService::test_delete_item [2025-11-18 16:52:59] - Delete product item - PASS
Details: Product ID: 33, Delete status: 200
response:{
  "deleted_product_id": 33,
  "message": "Product deleted successfully"
}
----------------------------------------

PASSED

=============================================================================== 6 passed in 0.52s ================================================================================
ubuntu@ubuntu-2204:~/Downloads/Projeto_final$ 